<div class="row">
    <div class="col-sm-6 col-md-offset-3"><h1>Risk Details Capture</h1></div>
</div>

<div ng-controller="riskDetailsCaptureController as riskCtrl">
    <div class="row">
        <div class="col-sm-2 col-md-offset-10">
            <button ng-show="!riskCtrl.editMode" class="button-edit-mode btn-primary btn"
                    ng-click="riskCtrl.openEditMode($event)">Edit Mode
            </button>
            <button ng-show="riskCtrl.editMode" class="button-edit-mode btn-info btn"
                    ng-click="riskCtrl.saveRiskDetails()">Save
            </button>
            <button ng-show="riskCtrl.editMode" class="button-edit-mode btn-info btn"
                    ng-click="riskCtrl.exitWithoutChanges()">Exit without changes
            </button>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-12">
            <div class="risk-table">
                <table class="table-striped table">
                    <thead>
                    <tr>
                        <th class="header">#</th>
                        <th class="header" ng-repeat="coll in riskCtrl.colls">{{coll.header}}</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="risk in riskCtrl.riskDetailsCapture">
                        <td>{{$index + 1}}</td>
                        <td ng-repeat="coll in riskCtrl.colls">
                            <div ng-switch="coll.type">
                                <cell-seats ng-switch-when="seats" item="risk[coll.name]" cell="coll"></cell-seats>
                                <cell-text ng-switch-when="text" risk="risk[coll.name]" cell="coll"></cell-text>
                                <cell-number ng-switch-when="number" risk="risk[coll.name]" cell="coll"></cell-number>
                                <cell-bool ng-switch-when="bool" item="risk[coll.name]" cell="coll"></cell-bool>
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>


    <div class="row">
        <div class="col-sm-2 col-sm-offset-5">
            <ul class="paging pagination">
                <li><a ng-click="riskCtrl.onClickedPage('previous')">Previous</a></li>
                <li ng-repeat="page in riskCtrl.pages" ng-class="riskCtrl.getClassForPaging(page)"><a
                        ng-click="riskCtrl.onClickedPage(page)">{{page+1}}</a></li>
                <li><a ng-click="riskCtrl.onClickedPage('next')">Next</a></li>
            </ul>
        </div>
    </div>
</div>
